# -*- coding: utf-8 -*-
"""
Created on Thu Aug  4 16:35:07 2022

@author: iit
"""
import pandas as pd
import numpy as np


obj = {'id': 1, 'name': 'arman'}
lst = [{'id':1,'name':'arman'},{'id':2,'name':'hossain','diff':'values'}]

datafm = pd.DataFrame()

length = len(lst)

index=0
for item in lst:
    for key in item:
        if key not in datafm.columns:
            datafm[key] = [None]*length
        datafm[key][index] = item[key]
        
    index+=1
datafm.drop(None,1,0)
datafm.columns
        
#%% write as csv
datafm.to_csv('test4.csv',index=False)

#%% reading csv
df3 = pd.read_csv('test4.csv')
df3.columns
df3.drop('Unnamed: 0')
df3


# %%
# pip install requests
 
data = pd.read_csv('epssv1.csv',index_col=0)
data['epss'] = [None]*len(data)

data.loc['CVE-2019-0001']['microsoft']
'CVE-2019-0001' in data.index
data.loc['CVE-2019-0001']['epss'] = 5
print(data.loc['CVE-2019-0001']['epss'])
epss = pd.read_csv('C:/Users/IIT.DESKTOP-73JFK20/Downloads/epss_scores-2022-08-13.csv',index_col=0)
for id in epss.index:
    if id in data.index:
        # print( epss.loc[id]['#model_version:v2022.01.01'])
        data['epss'][id] = epss['#model_version:v2022.01.01'][id]
        
data = data.dropna()
data.to_csv('epssv2.csv')
